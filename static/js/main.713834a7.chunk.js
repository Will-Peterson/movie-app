(this["webpackJsonpmovie-app"]=this["webpackJsonpmovie-app"]||[]).push([[0],{47:function(e,t,n){},55:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(0),i=n.n(a),r=n(17),o=n.n(r),s=(n(47),n(33)),l=n(34),d=n(41),j=n(40),h=n(18),u=n(26),b=n(13),m=function(e,t){switch(t.type){case"ADD_MOVIE_TO_WATCHED":return Object(b.a)(Object(b.a)({},e),{},{watchlist:e.watchlist.filter((function(e){return e.id!==t.payload.id})),watched:[t.payload].concat(Object(u.a)(e.watched))});case"ADD_MOVIE_TO_WATCHLIST":return Object(b.a)(Object(b.a)({},e),{},{watchlist:[t.payload].concat(Object(u.a)(e.watchlist))});case"REMOVE_MOVIE_FROM_WATCHED":return Object(b.a)(Object(b.a)({},e),{},{watched:e.watched.filter((function(e){return e.id!==t.payload}))});case"REMOVE_MOVIE_FROM_WATCHLIST":return Object(b.a)(Object(b.a)({},e),{},{watchlist:e.watchlist.filter((function(e){return e.id!==t.payload}))});case"MOVE_MOVIE_TO_WATCHLIST_FROM_WATCHED":return Object(b.a)(Object(b.a)({},e),{},{watched:e.watched.filter((function(e){return e.id!==t.payload.id})),watchlist:[t.payload].concat(Object(u.a)(e.watchlist))});default:return e}},O={watchlist:localStorage.getItem("wp-ma-vau-watchlist")?JSON.parse(localStorage.getItem("wp-ma-vau-watchlist")):[],watched:localStorage.getItem("wp-ma-vau-watched")?JSON.parse(localStorage.getItem("wp-ma-vau-watched")):[]},v=Object(a.createContext)(O),x=function(e){var t=Object(a.useReducer)(m,O),n=Object(h.a)(t,2),i=n[0],r=n[1];Object(a.useEffect)((function(){localStorage.setItem("wp-ma-vau-watchlist",JSON.stringify(i.watchlist)),localStorage.setItem("wp-ma-vau-watched",JSON.stringify(i.watched))}),[i]);return Object(c.jsx)(v.Provider,{value:{watchlist:i.watchlist,watched:i.watched,addMovieToWatched:function(e){r({type:"ADD_MOVIE_TO_WATCHED",payload:e})},addMovieToWatchlist:function(e){r({type:"ADD_MOVIE_TO_WATCHLIST",payload:e})},removeMovieFromWatched:function(e){r({type:"REMOVE_MOVIE_FROM_WATCHED",payload:e})},removeMovieFromWatchlist:function(e){r({type:"REMOVE_MOVIE_FROM_WATCHLIST",payload:e})},moveMovieToWatchlistFromWatched:function(e){r({type:"MOVE_MOVIE_TO_WATCHLIST_FROM_WATCHED",payload:e})}},children:e.children})},p=n(8),f=n(23),g=function(e){var t=e.movie,n=Object(a.useContext)(v),i=n.addMovieToWatchlist,r=n.addMovieToWatched,o=n.watchlist,s=n.watched,l=o.find((function(e){return e.id===t.id})),d=s.find((function(e){return e.id===t.id})),j=!!l||!!d,h=!!d;return Object(c.jsxs)("div",{children:[t.poster_path?Object(c.jsx)(f.a,{rounded:!0,src:"https://image.tmdb.org/t/p/w300".concat(t.poster_path),alt:t.title}):Object(c.jsx)("div",{className:"poster",style:{width:"300px",height:"450px",fontSize:"30px",fontWeight:"bold",lineHeight:"450px",background:"-webkit-gradient(linear,left top,left bottom,from(#666),to(#ccc)"},children:"No Poster Available"}),Object(c.jsx)("div",{className:"",style:{fontSize:"20px",fontWeight:"bold",textAlign:"left"},children:t.title}),Object(c.jsx)("div",{style:{textAlign:"left"},children:t.release_date?t.release_date.substring(0,4):"no date"}),Object(c.jsx)(p.a,{onClick:function(){return i(t)},disabled:j,style:{position:"relative",bottom:0,left:0},variant:"dark",size:"sm",className:"float-left",children:"Add to Watchlist"}),Object(c.jsx)(p.a,{onClick:function(){return r(t)},disabled:h,variant:"dark",size:"sm",className:"mb-5 float-right",children:"Add to Watched"})]})},w="0cd6e3f93b4702231426712bba06f105",y=function(){var e=Object(a.useState)(""),t=Object(h.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)([]),o=Object(h.a)(r,2),s=o[0],l=o[1],d=Object(a.useState)(!1),j=Object(h.a)(d,2),u=j[0],b=j[1];return Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("div",{className:"input-group mb-5 mt-5",children:Object(c.jsx)("input",{type:"text",autoFocus:!0,placeholder:"Search for movies...",value:n,onChange:function(e){e.preventDefault(),b(!0),i(e.target.value),fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat(w,"&language=en-US&page=1&include_adult=false&query=").concat(e.target.value)).then((function(e){return e.json()})).then((function(e){return l(e.results)})),b(!1)},"aria-describedby":"inputGroup-sizing-sm",className:"form-control"})}),u&&Object(c.jsx)("div",{children:"Movies loading..."}),s.length>0&&Object(c.jsx)("div",{className:"row justify-content-center text-center",children:s.map((function(e){return Object(c.jsx)("div",{style:{maxWidth:"320px"},className:"mx-3",children:Object(c.jsx)(g,{movie:e})},e.id)}))})]})},M=function(){return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(y,{})})},_=n(14),W=function(e){var t=e.movie,n=e.type,i=Object(a.useContext)(v),r=i.addMovieToWatched,o=i.removeMovieFromWatchlist,s=i.removeMovieFromWatched,l=i.moveMovieToWatchlistFromWatched;return Object(c.jsxs)("div",{children:["watchlist"===n&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(p.a,{onClick:function(){return r(t)},variant:"dark",size:"sm",className:"mt-2",children:"Add to Watched"}),Object(c.jsx)(p.a,{onClick:function(){return o(t.id)},variant:"dark",size:"sm",className:"mt-2 float-right",children:"Remove"})]}),"watched"===n&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(p.a,{onClick:function(){return l(t)},variant:"dark",size:"sm",className:"mt-2",children:"Add to Watchlist"}),Object(c.jsx)(p.a,{onClick:function(){return s(t.id)},variant:"dark",size:"sm",className:"mt-2 float-right",children:"Remove"})]})]})},N=function(e){var t=e.movie,n=e.type;return Object(c.jsxs)("div",{className:"m-3",children:[t.poster_path?Object(c.jsx)(f.a,{rounded:!0,src:"https://image.tmdb.org/t/p/w200".concat(t.poster_path),alt:t.title}):Object(c.jsx)("div",{style:{background:"-webkit-gradient(linear,left top,left bottom,from(#666),to(#ccc)",borderRadius:".25rem",textAlign:"center",width:"200px",height:"300px",fontSize:"20px",fontWeight:"bold",lineHeight:"300px"},children:"No Poster Available"}),Object(c.jsx)(W,{type:n,movie:t})]})},T=n(15),E=n(11);function k(){var e=Object(_.a)(["\n  .movie-count {\n    margin-left: 20px;\n    color: #666;\n  }\n\n  .no-movies {\n    font-size: 25px;\n    color: #aaa;\n    margin-top: 6.25rem;\n    text-align: center;\n  }\n\n  .empty-container {\n    flex-direction: column;\n    text-align: center;\n  }\n\n  button {\n    margin: 1.875rem auto;\n  }\n\n  a {\n    text-decoration: none;\n  }\n"]);return k=function(){return e},e}var S=T.a.div(k()),A=function(){var e=Object(a.useContext)(v).watched;return Object(c.jsx)(S,{children:Object(c.jsxs)("div",{className:"container-fluid",children:[Object(c.jsx)("h1",{children:"Movies I've Watched"}),Object(c.jsxs)("div",{className:"movie-count",children:[e.length,1===e.length?" Movie":" Movies",Object(c.jsx)("hr",{})]}),Object(c.jsx)("div",{className:"row justify-content-center",children:e.length>0?Object(c.jsx)(c.Fragment,{children:e.map((function(e){return Object(c.jsx)(N,{movie:e,type:"watched"})}))}):Object(c.jsxs)("div",{className:"empty-container",children:[Object(c.jsx)("div",{className:"no-movies",children:"You have not watched any movies?"}),Object(c.jsx)(E.b,{to:"/",children:Object(c.jsx)(p.a,{variant:"success",children:"Search for movies"})})]})})]})})};function C(){var e=Object(_.a)(["\n  .movie-count {\n    margin-left: 20px;\n    color: #666;\n  }\n\n  .no-movies {\n    font-size: 25px;\n    color: #aaa;\n    margin-top: 6.25rem;\n    text-align: center;\n  }\n\n  .empty-container {\n    flex-direction: column;\n    text-align: center;\n  }\n\n  button {\n    margin: 1.875rem auto;\n  }\n\n  a {\n    text-decoration: none;\n  }\n"]);return C=function(){return e},e}var I=T.a.div(C()),F=function(){var e=Object(a.useContext)(v).watchlist;return Object(c.jsx)(I,{children:Object(c.jsxs)("div",{className:"container-fluid",children:[Object(c.jsx)("h1",{children:"Movies I Want to Watch"}),Object(c.jsxs)("div",{className:"movie-count",children:[e.length,1===e.length?" Movie":" Movies"]}),Object(c.jsx)("hr",{}),Object(c.jsx)("div",{className:"row justify-content-center",children:e.length>0?Object(c.jsx)(c.Fragment,{children:e.map((function(e){return Object(c.jsx)(N,{movie:e,type:"watchlist"})}))}):Object(c.jsxs)("div",{className:"empty-container",children:[Object(c.jsx)("div",{className:"no-movies",children:"You don't want to watch any movies?"}),Object(c.jsx)(E.b,{to:"/",children:Object(c.jsx)(p.a,{variant:"success",children:"Search for movies"})})]})})]})})};function z(){var e=Object(_.a)(["\n  text-align: center;\n  margin: 120px;\n"]);return z=function(){return e},e}var D=T.a.div(z()),V=function(){return Object(c.jsxs)(D,{children:[Object(c.jsx)("h2",{children:"We can't find that page..."}),Object(c.jsx)(E.b,{to:"/",children:Object(c.jsx)(p.a,{variant:"primary",children:"Home"})})]})},H=n(24),R=function(e){return Object(c.jsx)(H.a,{children:e.children})},J=n(4),L=n(58),B=n.p+"static/media/pulp-fiction.527883ad.jpg";function P(){var e=Object(_.a)(["\n  .jumbo {\n    background: url(",") no-repeat center;\n    background-size: cover;\n    color: #ccc;\n    height: 200px;\n    position: relative;\n    z-index: -2;\n  }\n\n  .overlay {\n    background-color: #000;\n    opacity: 0.6;\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    z-index: -1;\n  }\n"]);return P=function(){return e},e}var Y=T.a.div(P(),B),q=function(){return Object(c.jsx)(Y,{children:Object(c.jsxs)(L.a,{fluid:!0,className:"jumbo",children:[Object(c.jsx)("div",{className:"overlay"}),Object(c.jsxs)(H.a,{children:[Object(c.jsx)("h1",{children:"Movie DB"}),Object(c.jsx)("p",{children:"Build your personal movie list"})]})]})})},G=n(25);function U(){var e=Object(_.a)(["\n  .brand {\n    padding: 0.3125rem 0;\n    font-size: 1.25rem;\n  }\n  a {\n    text-decoration: none;\n    color: white;\n  }\n"]);return U=function(){return e},e}var K=T.a.div(U()),Q=function(){return Object(c.jsx)(K,{children:Object(c.jsxs)(G.a,{expand:"sm",bg:"dark",fixed:"top",variant:"dark",children:[Object(c.jsx)(E.b,{className:"brand",to:"/",children:"Movie App"}),Object(c.jsx)(G.a.Toggle,{}),Object(c.jsx)(G.a.Collapse,{children:Object(c.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(E.c,{className:"nav-link",to:"/watchlist",children:"Watchlist"})}),Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(E.c,{className:"nav-link",to:"/watched",children:"Watched"})})]})})]})})},X=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(c.jsx)(x,{children:Object(c.jsxs)(E.a,{children:[Object(c.jsx)(Q,{}),Object(c.jsx)(q,{}),Object(c.jsx)(R,{children:Object(c.jsxs)(J.c,{children:[Object(c.jsx)(J.a,{exact:!0,path:"/",component:M}),Object(c.jsx)(J.a,{path:"/movie-app",component:M}),Object(c.jsx)(J.a,{path:"/watched",component:A}),Object(c.jsx)(J.a,{path:"/watchlist",component:F}),Object(c.jsx)(J.a,{component:V})]})})]})})}}]),n}(a.Component);n(54);o.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(X,{})}),document.getElementById("root"))}},[[55,1,2]]]);
//# sourceMappingURL=main.713834a7.chunk.js.map