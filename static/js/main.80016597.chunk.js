(this["webpackJsonpmovie-app"]=this["webpackJsonpmovie-app"]||[]).push([[0],{47:function(e,t,n){},55:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(0),i=n.n(a),r=n(17),o=n.n(r),s=(n(47),n(32)),l=n(33),d=n(41),j=n(40),h=n(21),u=n(25),b=n(11),O=function(e,t){switch(t.type){case"ADD_MOVIE_TO_WATCHED":return Object(b.a)(Object(b.a)({},e),{},{watchlist:e.watchlist.filter((function(e){return e.id!==t.payload.id})),watched:[t.payload].concat(Object(u.a)(e.watched))});case"ADD_MOVIE_TO_WATCHLIST":return Object(b.a)(Object(b.a)({},e),{},{watchlist:[t.payload].concat(Object(u.a)(e.watchlist))});case"REMOVE_MOVIE_FROM_WATCHED":return Object(b.a)(Object(b.a)({},e),{},{watched:e.watched.filter((function(e){return e.id!==t.payload}))});case"REMOVE_MOVIE_FROM_WATCHLIST":return Object(b.a)(Object(b.a)({},e),{},{watchlist:e.watchlist.filter((function(e){return e.id!==t.payload}))});case"MOVE_MOVIE_TO_WATCHLIST_FROM_WATCHED":return Object(b.a)(Object(b.a)({},e),{},{watched:e.watched.filter((function(e){return e.id!==t.payload.id})),watchlist:[t.payload].concat(Object(u.a)(e.watchlist))});default:return e}},m={watchlist:localStorage.getItem("wp-ma-vau-watchlist")?JSON.parse(localStorage.getItem("wp-ma-vau-watchlist")):[],watched:localStorage.getItem("wp-ma-vau-watched")?JSON.parse(localStorage.getItem("wp-ma-vau-watched")):[]},v=Object(a.createContext)(m),p=function(e){var t=Object(a.useReducer)(O,m),n=Object(h.a)(t,2),i=n[0],r=n[1];Object(a.useEffect)((function(){localStorage.setItem("wp-ma-vau-watchlist",JSON.stringify(i.watchlist)),localStorage.setItem("wp-ma-vau-watched",JSON.stringify(i.watched))}),[i]);return Object(c.jsx)(v.Provider,{value:{watchlist:i.watchlist,watched:i.watched,addMovieToWatched:function(e){r({type:"ADD_MOVIE_TO_WATCHED",payload:e})},addMovieToWatchlist:function(e){r({type:"ADD_MOVIE_TO_WATCHLIST",payload:e})},removeMovieFromWatched:function(e){r({type:"REMOVE_MOVIE_FROM_WATCHED",payload:e})},removeMovieFromWatchlist:function(e){r({type:"REMOVE_MOVIE_FROM_WATCHLIST",payload:e})},moveMovieToWatchlistFromWatched:function(e){r({type:"MOVE_MOVIE_TO_WATCHLIST_FROM_WATCHED",payload:e})}},children:e.children})},x=n(15),f=n(23),g=function(e){var t=e.movie,n=Object(a.useContext)(v),i=n.addMovieToWatchlist,r=n.addMovieToWatched,o=n.watchlist,s=n.watched,l=o.find((function(e){return e.id===t.id})),d=s.find((function(e){return e.id===t.id})),j=!!l||!!d,h=!!d;return Object(c.jsxs)("div",{children:[t.poster_path?Object(c.jsx)(f.a,{rounded:!0,src:"https://image.tmdb.org/t/p/w300".concat(t.poster_path),alt:t.title}):Object(c.jsx)("div",{className:"poster",style:{width:"300px",height:"450px",fontSize:"30px",fontWeight:"bold",lineHeight:"450px",background:"-webkit-gradient(linear,left top,left bottom,from(#666),to(#ccc)"},children:"No Poster Available"}),Object(c.jsx)("div",{className:"",style:{fontSize:"20px",fontWeight:"bold",textAlign:"left"},children:t.title}),Object(c.jsx)("div",{style:{textAlign:"left"},children:t.release_date?t.release_date.substring(0,4):"no date"}),Object(c.jsx)(x.a,{onClick:function(){return i(t)},disabled:j,style:{position:"relative",bottom:0,left:0},variant:"dark",size:"sm",className:"float-left",children:"Add to Watchlist"}),Object(c.jsx)(x.a,{onClick:function(){return r(t)},disabled:h,variant:"dark",size:"sm",className:"mb-5 float-right",children:"Add to Watched"})]})},w="0cd6e3f93b4702231426712bba06f105",y=function(){var e=Object(a.useState)(""),t=Object(h.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)([]),o=Object(h.a)(r,2),s=o[0],l=o[1];return Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("div",{className:"input-group mb-5 mt-5",children:Object(c.jsx)("input",{type:"text",autoFocus:!0,placeholder:"Search for movies...",value:n,onChange:function(e){e.preventDefault(),i(e.target.value),fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat(w,"&language=en-US&page=1&include_adult=false&query=").concat(e.target.value)).then((function(e){return e.json()})).then((function(e){e.errors?l([]):l(e.results)}))},"aria-describedby":"inputGroup-sizing-sm",className:"form-control"})}),s.length>0&&Object(c.jsx)("div",{className:"row justify-content-center text-center",children:s.map((function(e){return Object(c.jsx)("div",{style:{maxWidth:"320px"},className:"mx-3",children:Object(c.jsx)(g,{movie:e})},e.id)}))})]})},M=function(){return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(y,{})})},_=n(12),N=function(e){var t=e.movie,n=e.type,i=Object(a.useContext)(v),r=i.addMovieToWatched,o=i.removeMovieFromWatchlist,s=i.removeMovieFromWatched,l=i.moveMovieToWatchlistFromWatched;return Object(c.jsxs)("div",{children:["watchlist"===n&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(x.a,{onClick:function(){return r(t)},variant:"dark",size:"sm",className:"mt-2",children:"Add to Watched"}),Object(c.jsx)(x.a,{onClick:function(){return o(t.id)},variant:"dark",size:"sm",className:"mt-2 float-right",children:"Remove"})]}),"watched"===n&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(x.a,{onClick:function(){return l(t)},variant:"dark",size:"sm",className:"mt-2",children:"Add to Watchlist"}),Object(c.jsx)(x.a,{onClick:function(){return s(t.id)},variant:"dark",size:"sm",className:"mt-2 float-right",children:"Remove"})]})]})},W=function(e){var t=e.movie,n=e.type;return Object(c.jsxs)("div",{className:"m-3",children:[t.poster_path?Object(c.jsx)(f.a,{rounded:!0,src:"https://image.tmdb.org/t/p/w200".concat(t.poster_path),alt:t.title}):Object(c.jsx)("div",{style:{background:"-webkit-gradient(linear,left top,left bottom,from(#666),to(#ccc)",borderRadius:".25rem",textAlign:"center",width:"200px",height:"300px",fontSize:"20px",fontWeight:"bold",lineHeight:"300px"},children:"No Poster Available"}),Object(c.jsx)(N,{type:n,movie:t})]})},T=n(13);function C(){var e=Object(_.a)(["\n  .movie-count {\n    margin-left: 20px;\n    color: #666;\n  }\n\n  .no-movies {\n    font-size: 25px;\n    color: #aaa;\n    margin-top: 60px;\n  }\n"]);return C=function(){return e},e}var k=T.a.div(C()),A=function(){var e=Object(a.useContext)(v).watchlist;return Object(c.jsx)(k,{children:Object(c.jsxs)("div",{className:"container-fluid",children:[Object(c.jsx)("h1",{children:"Movies I Want to Watch"}),Object(c.jsxs)("div",{className:"movie-count",children:[e.length,1===e.length?" Movie":" Movies"]}),Object(c.jsx)("hr",{}),Object(c.jsx)("div",{className:"row justify-content-center",children:e.length>0?Object(c.jsx)(c.Fragment,{children:e.map((function(e){return Object(c.jsx)(W,{movie:e,type:"watchlist"})}))}):Object(c.jsx)("div",{className:"no-movies",children:"Add movies to your watchlist"})})]})})};function E(){var e=Object(_.a)(["\n  .movie-count {\n    margin-left: 20px;\n    color: #666;\n  }\n\n  .no-movies {\n    font-size: 25px;\n    color: #aaa;\n    margin-top: 60px;\n  }\n"]);return E=function(){return e},e}var I=T.a.div(E()),S=function(){var e=Object(a.useContext)(v).watched;return Object(c.jsx)(I,{children:Object(c.jsxs)("div",{className:"container-fluid",children:[Object(c.jsx)("h1",{children:"Movies I've Watched"}),Object(c.jsxs)("div",{className:"movie-count",children:[e.length,1===e.length?" Movie":" Movies",Object(c.jsx)("hr",{})]}),Object(c.jsx)("div",{className:"row justify-content-center",children:e.length>0?Object(c.jsx)(c.Fragment,{children:e.map((function(e){return Object(c.jsx)(W,{movie:e,type:"watched"})}))}):Object(c.jsx)("div",{className:"no-movies",children:"Add movies to your watched list"})})]})})},F=function(){return Object(c.jsx)("div",{children:Object(c.jsx)("h2",{children:"No Match"})})},D=n(37),z=function(e){return Object(c.jsx)(D.a,{children:e.children})},V=n(16),H=n(4),R=n(24);function L(){var e=Object(_.a)(["\n  .brand {\n    padding: 0.3125rem 0;\n    font-size: 1.25rem;\n  }\n  a {\n    text-decoration: none;\n    color: white;\n  }\n"]);return L=function(){return e},e}var J=T.a.div(L()),P=function(){return Object(c.jsx)(J,{children:Object(c.jsxs)(R.a,{expand:"sm",bg:"dark",fixed:"top",variant:"dark",children:[Object(c.jsx)(V.b,{className:"brand",to:"/",children:"Movie App"}),Object(c.jsx)(R.a.Toggle,{}),Object(c.jsx)(R.a.Collapse,{children:Object(c.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(c.jsx)("li",{className:"nav-item active",children:Object(c.jsxs)(V.c,{className:"nav-link",to:"/",children:["Home ",Object(c.jsx)("span",{className:"sr-only",children:"(current)"})]})}),Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(V.c,{className:"nav-link",to:"/watchlist",children:"Watchlist"})}),Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(V.c,{className:"nav-link",to:"/watched",children:"Watched"})})]})})]})})},B=n(58),q=n.p+"static/media/pulp-fiction.527883ad.jpg";function G(){var e=Object(_.a)(["\n  .jumbo {\n    background: url(",") no-repeat center;\n    background-size: cover;\n    color: #ccc;\n    height: 200px;\n    position: relative;\n    z-index: -2;\n  }\n\n  .overlay {\n    background-color: #000;\n    opacity: 0.6;\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    z-index: -1;\n  }\n"]);return G=function(){return e},e}var U=T.a.div(G(),q),K=function(){return Object(c.jsx)(U,{children:Object(c.jsxs)(B.a,{fluid:!0,className:"jumbo",children:[Object(c.jsx)("div",{className:"overlay"}),Object(c.jsxs)(D.a,{children:[Object(c.jsx)("h1",{children:"Movie DB"}),Object(c.jsx)("p",{children:"Build your personal movie list"})]})]})})},Q=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(c.jsx)(p,{children:Object(c.jsxs)(V.a,{children:[Object(c.jsx)(P,{}),Object(c.jsx)(K,{}),Object(c.jsx)(z,{children:Object(c.jsxs)(H.c,{children:[Object(c.jsx)(H.a,{exact:!0,path:"/",component:M}),Object(c.jsx)(H.a,{path:"/watchlist",component:A}),Object(c.jsx)(H.a,{path:"/watched",component:S}),Object(c.jsx)(H.a,{component:F})]})})]})})}}]),n}(a.Component),X=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,59)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),i(e),r(e)}))};n(54);o.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(Q,{})}),document.getElementById("root")),X()}},[[55,1,2]]]);
//# sourceMappingURL=main.80016597.chunk.js.map